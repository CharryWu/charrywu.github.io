import{_ as s,c as a,o as t,ae as i}from"./chunks/framework.BHrE6nLq.js";const c=JSON.parse('{"title":"Using FFmpeg to count number of frames","description":"","frontmatter":{},"headers":[],"relativePath":"misc/ffmpeg/count-frames.md","filePath":"misc/ffmpeg/count-frames.md"}'),o={name:"misc/ffmpeg/count-frames.md"};function n(r,e,l,h,p,d){return t(),a("div",null,e[0]||(e[0]=[i('<h1 id="using-ffmpeg-to-count-number-of-frames" tabindex="-1">Using FFmpeg to count number of frames <a class="header-anchor" href="#using-ffmpeg-to-count-number-of-frames" aria-label="Permalink to &quot;Using FFmpeg to count number of frames&quot;">​</a></h1><h2 id="use-ffmpeg-to-count-number-of-frames-fastly-and-reliably-recommended-works-on-any-video-file" tabindex="-1">Use FFmpeg to count number of frames, fastly and reliably (recommended, works on any video file) <a class="header-anchor" href="#use-ffmpeg-to-count-number-of-frames-fastly-and-reliably-recommended-works-on-any-video-file" aria-label="Permalink to &quot;Use FFmpeg to count number of frames, fastly and reliably (recommended, works on any video file)&quot;">​</a></h2><p>Stackoverflow: <a href="https://stackoverflow.com/a/66105349" target="_blank" rel="noreferrer">https://stackoverflow.com/a/66105349</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ffmpeg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> input.mp4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -map</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0:v:0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> copy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> null</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span></span></code></pre></div><p>The FFmpeg command loops through the video file but do not decode any frames. It only increments the counter, thus it&#39;s very fast.</p><h2 id="use-ffprobe-output-frame-count-only" tabindex="-1">Use FFprobe, output frame count only <a class="header-anchor" href="#use-ffprobe-output-frame-count-only" aria-label="Permalink to &quot;Use FFprobe, output frame count only&quot;">​</a></h2><p>Stackoverflow: <a href="https://stackoverflow.com/a/28376817" target="_blank" rel="noreferrer">https://stackoverflow.com/a/28376817</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ffprobe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> error</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -select_streams</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v:0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -count_packets</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -show_entries</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stream=nb_read_packets</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> csv=p=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> input.mp4</span></span></code></pre></div><p>What the ffprobe options mean:</p><ul><li><code>-v error</code> This hides &quot;info&quot; output (version info, etc) which makes parsing easier (but makes it harder if you ask for help since it hides important info).</li><li><code>-count_frames</code> Count the number of packets per stream and report it in the corresponding stream section.</li><li><code>-select_streams v:0</code> Select only the first video stream.</li><li><code>-show_entries stream=nb_read_packets</code> Show only the entry for <code>nb_read_frames</code>.</li><li><code>-of csv=p=0</code> sets the output formatting. In this case it hides the descriptions and only shows the value. See FFprobe Writers for info on other formats including JSON.</li></ul><h2 id="use-ffprobe-to-get-frame-count-from-video-file-metadata" tabindex="-1">Use FFprobe to get frame count from video file metadata <a class="header-anchor" href="#use-ffprobe-to-get-frame-count-from-video-file-metadata" aria-label="Permalink to &quot;Use FFprobe to get frame count from video file metadata&quot;">​</a></h2><p>Stackoverflow: <a href="https://stackoverflow.com/q/66098161" target="_blank" rel="noreferrer">https://stackoverflow.com/q/66098161</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ffprobe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -select_streams</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v:0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -show_entries</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stream=nb_frames</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default=noprint_wrappers=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> input.mp4</span></span></code></pre></div>',13)]))}const f=s(o,[["render",n]]);export{c as __pageData,f as default};
