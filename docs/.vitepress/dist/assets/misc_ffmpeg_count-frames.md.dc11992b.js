import{_ as e,o as s,c as o,O as a}from"./chunks/framework.786f5604.js";const u=JSON.parse('{"title":"Using FFmpeg to count number of frames","description":"","frontmatter":{},"headers":[],"relativePath":"misc/ffmpeg/count-frames.md","filePath":"misc/ffmpeg/count-frames.md"}'),t={name:"misc/ffmpeg/count-frames.md"},n=a('<h1 id="using-ffmpeg-to-count-number-of-frames" tabindex="-1">Using FFmpeg to count number of frames <a class="header-anchor" href="#using-ffmpeg-to-count-number-of-frames" aria-label="Permalink to &quot;Using FFmpeg to count number of frames&quot;">​</a></h1><h2 id="use-ffmpeg-to-count-number-of-frames-fastly-and-reliably-recommended-works-on-any-video-file" tabindex="-1">Use FFmpeg to count number of frames, fastly and reliably (recommended, works on any video file) <a class="header-anchor" href="#use-ffmpeg-to-count-number-of-frames-fastly-and-reliably-recommended-works-on-any-video-file" aria-label="Permalink to &quot;Use FFmpeg to count number of frames, fastly and reliably (recommended, works on any video file)&quot;">​</a></h2><p>Stackoverflow: <a href="https://stackoverflow.com/a/66105349" target="_blank" rel="noreferrer">https://stackoverflow.com/a/66105349</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ffmpeg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">input.mp4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-map</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">:v:0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">copy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">null</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span></span></code></pre></div><p>The FFmpeg command loops through the video file but do not decode any frames. It only increments the counter, thus it&#39;s very fast.</p><h2 id="use-ffprobe-output-frame-count-only" tabindex="-1">Use FFprobe, output frame count only <a class="header-anchor" href="#use-ffprobe-output-frame-count-only" aria-label="Permalink to &quot;Use FFprobe, output frame count only&quot;">​</a></h2><p>Stackoverflow: <a href="https://stackoverflow.com/a/28376817" target="_blank" rel="noreferrer">https://stackoverflow.com/a/28376817</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ffprobe</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">error</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-select_streams</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v:0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-count_packets</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-show_entries</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stream=nb_read_packets</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">csv=p=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">input.mp4</span></span></code></pre></div><p>What the ffprobe options mean:</p><ul><li><code>-v error</code> This hides &quot;info&quot; output (version info, etc) which makes parsing easier (but makes it harder if you ask for help since it hides important info).</li><li><code>-count_frames</code> Count the number of packets per stream and report it in the corresponding stream section.</li><li><code>-select_streams v:0</code> Select only the first video stream.</li><li><code>-show_entries stream=nb_read_packets</code> Show only the entry for <code>nb_read_frames</code>.</li><li><code>-of csv=p=0</code> sets the output formatting. In this case it hides the descriptions and only shows the value. See FFprobe Writers for info on other formats including JSON.</li></ul><h2 id="use-ffprobe-to-get-frame-count-from-video-file-metadata" tabindex="-1">Use FFprobe to get frame count from video file metadata <a class="header-anchor" href="#use-ffprobe-to-get-frame-count-from-video-file-metadata" aria-label="Permalink to &quot;Use FFprobe to get frame count from video file metadata&quot;">​</a></h2><p>Stackoverflow: <a href="https://stackoverflow.com/q/66098161" target="_blank" rel="noreferrer">https://stackoverflow.com/q/66098161</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ffprobe</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-select_streams</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v:0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-show_entries</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stream=nb_frames</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default=noprint_wrappers=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">input.mp4</span></span></code></pre></div>',13),r=[n];function l(p,c,i,f,m,C){return s(),o("div",null,r)}const y=e(t,[["render",l]]);export{u as __pageData,y as default};
