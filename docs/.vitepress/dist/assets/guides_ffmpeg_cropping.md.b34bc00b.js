import{_ as o,o as e,c as a,O as s}from"./chunks/framework.786f5604.js";const y=JSON.parse('{"title":"Crop video w/ audio","description":"","frontmatter":{},"headers":[],"relativePath":"guides/ffmpeg/cropping.md","filePath":"guides/ffmpeg/cropping.md"}'),t={name:"guides/ffmpeg/cropping.md"},p=s('<h1 id="crop-video-w-audio" tabindex="-1">Crop video w/ audio <a class="header-anchor" href="#crop-video-w-audio" aria-label="Permalink to &quot;Crop video w/ audio&quot;">​</a></h1><h2 id="crop-video-using-cuda-acceleration-hwaccel-cuvid" tabindex="-1">Crop video using cuda acceleration (<code>-hwaccel cuvid</code>) <a class="header-anchor" href="#crop-video-using-cuda-acceleration-hwaccel-cuvid" aria-label="Permalink to &quot;Crop video using cuda acceleration (`-hwaccel cuvid`)&quot;">​</a></h2><p>Pass the <code>-crop</code> flag with margins: top x bottom x left x right. For example, given input video width 1280px and height 640px, to crop the rectangle bounded by lines 50px from top and bottom side, 430px from right side, and left side of original video, use the command below:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ffmpeg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-hwaccel</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cuvid</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c:v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">h264_cuvid</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-crop</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50</span><span style="color:#C3E88D;">x50x0x430</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">input.mp4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c:v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">h264_nvenc</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">output.mp4</span></span></code></pre></div><h2 id="crop-video-without-cuda-acceleration" tabindex="-1">Crop video without cuda acceleration <a class="header-anchor" href="#crop-video-without-cuda-acceleration" aria-label="Permalink to &quot;Crop video without cuda acceleration&quot;">​</a></h2><p>Crop the video with input <a href="https://video.stackexchange.com/a/4571" target="_blank" rel="noreferrer">https://video.stackexchange.com/a/4571</a></p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ffmpeg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">input.mp4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-filter:v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">crop=out_w:out_h:x:y</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">out.mp4</span></span></code></pre></div><p>Where the options are as follows:</p><ul><li><code>out_w</code> is the width of the output rectangle</li><li><code>out_h</code> is the height of the output rectangle</li><li><code>x</code> and <code>y</code> specify the top left corner of the output rectangle (coordinates start at (0,0) in the top left corner of the input)</li></ul><p>For example, to crop the rectangle bounded by lines 50px from top and bottom side, 430px from right side, and left side of original video, use the command below:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ffmpeg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">input.mp4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-filter:v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">crop=850:540:0:50</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">out.mp4</span></span></code></pre></div><p>NOTE: The top &amp; bottom, left &amp; right margin values should not conflict. For example, for a video of 300px height, when crop top margin = 200px, bottom margin cannot be more than 300-200 = 100px. Otherwise, the output will be an empty video file.</p>',12),n=[p];function l(c,r,i,d,h,C){return e(),a("div",null,n)}const m=o(t,[["render",l]]);export{y as __pageData,m as default};
